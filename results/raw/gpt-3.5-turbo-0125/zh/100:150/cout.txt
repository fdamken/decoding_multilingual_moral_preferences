INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "142"
/Users/karina/Documents/Coding/PyCharm/mme/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:08<07:07,  8.73s/it]  4%|▍         | 2/50 [00:18<07:24,  9.27s/it]  6%|▌         | 3/50 [00:26<06:52,  8.77s/it]  8%|▊         | 4/50 [00:34<06:37,  8.63s/it] 10%|█         | 5/50 [00:44<06:50,  9.12s/it] 12%|█▏        | 6/50 [00:53<06:34,  8.96s/it] 14%|█▍        | 7/50 [01:02<06:19,  8.83s/it] 16%|█▌        | 8/50 [01:10<06:00,  8.59s/it] 18%|█▊        | 9/50 [01:19<05:54,  8.64s/it]WARNING - root - Finished call to 'agent.Agent.play' after 1.298(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
 20%|██        | 10/50 [01:28<05:58,  8.95s/it] 22%|██▏       | 11/50 [01:37<05:51,  9.00s/it] 24%|██▍       | 12/50 [01:45<05:31,  8.74s/it] 26%|██▌       | 13/50 [01:54<05:17,  8.57s/it] 28%|██▊       | 14/50 [02:02<05:05,  8.47s/it] 30%|███       | 15/50 [02:11<05:04,  8.70s/it] 32%|███▏      | 16/50 [02:20<04:59,  8.81s/it] 34%|███▍      | 17/50 [02:28<04:44,  8.62s/it] 36%|███▌      | 18/50 [02:36<04:30,  8.46s/it] 38%|███▊      | 19/50 [02:45<04:26,  8.58s/it] 40%|████      | 20/50 [02:53<04:13,  8.46s/it] 42%|████▏     | 21/50 [03:03<04:14,  8.79s/it] 44%|████▍     | 22/50 [03:12<04:07,  8.84s/it]WARNING - root - Finished call to 'agent.Agent.play' after 2.164(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
WARNING - root - Finished call to 'agent.Agent.play' after 3.190(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
WARNING - root - Finished call to 'agent.Agent.play' after 4.227(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
WARNING - root - Finished call to 'agent.Agent.play' after 5.320(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
WARNING - root - Finished call to 'agent.Agent.play' after 6.339(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
WARNING - root - Finished call to 'agent.Agent.play' after 7.440(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
WARNING - root - Finished call to 'agent.Agent.play' after 8.759(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 在.
 46%|████▌     | 23/50 [03:29<05:03, 11.24s/it] 48%|████▊     | 24/50 [03:38<04:35, 10.59s/it] 50%|█████     | 25/50 [03:47<04:11, 10.07s/it] 52%|█████▏    | 26/50 [03:56<03:57,  9.90s/it] 54%|█████▍    | 27/50 [04:05<03:39,  9.54s/it] 56%|█████▌    | 28/50 [04:14<03:24,  9.30s/it] 58%|█████▊    | 29/50 [04:22<03:09,  9.03s/it] 60%|██████    | 30/50 [04:30<02:52,  8.62s/it] 62%|██████▏   | 31/50 [04:39<02:49,  8.90s/it] 64%|██████▍   | 32/50 [04:48<02:38,  8.81s/it] 66%|██████▌   | 33/50 [04:57<02:29,  8.80s/it] 68%|██████▊   | 34/50 [05:05<02:20,  8.76s/it] 70%|███████   | 35/50 [05:14<02:10,  8.69s/it]WARNING - root - Finished call to 'agent.Agent.play' after 1.092(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 2.577(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 3.555(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 4.474(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 5.496(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 6.585(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 7.582(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 8.555(s), this was the 8th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 9.623(s), this was the 9th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
WARNING - root - Finished call to 'agent.Agent.play' after 10.858(s), this was the 10th time calling it.
Traceback (most recent call last):
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play
    answer = self._prompt(self._make_prompt(scenario))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt
    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")
util.UnexpectedAnswerException: expected 1 or 2, got 请

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session
    result = agent.play(session)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x13747a710 state=finished raised UnexpectedAnswerException>]
 72%|███████▏  | 36/50 [05:25<02:10,  9.34s/it] 74%|███████▍  | 37/50 [05:33<01:55,  8.92s/it] 76%|███████▌  | 38/50 [05:41<01:45,  8.76s/it] 78%|███████▊  | 39/50 [05:52<01:43,  9.38s/it] 80%|████████  | 40/50 [06:01<01:32,  9.21s/it] 82%|████████▏ | 41/50 [06:09<01:19,  8.87s/it] 84%|████████▍ | 42/50 [06:18<01:10,  8.86s/it] 86%|████████▌ | 43/50 [06:27<01:02,  8.88s/it] 88%|████████▊ | 44/50 [06:35<00:52,  8.82s/it] 90%|█████████ | 45/50 [06:44<00:43,  8.77s/it] 92%|█████████▏| 46/50 [06:53<00:35,  8.79s/it]WARNING - root - Finished call to 'agent.Agent.play' after 5.170(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 这.
WARNING - root - Finished call to 'agent.Agent.play' after 10.933(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 这.
WARNING - root - Finished call to 'agent.Agent.play' after 16.760(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 这.
WARNING - root - Finished call to 'agent.Agent.play' after 22.496(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 这.
WARNING - root - Finished call to 'agent.Agent.play' after 23.506(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got 请.
 94%|█████████▍| 47/50 [07:26<00:48, 16.20s/it] 96%|█████████▌| 48/50 [07:35<00:27, 13.90s/it] 98%|█████████▊| 49/50 [07:45<00:12, 12.75s/it]100%|██████████| 50/50 [07:53<00:00, 11.52s/it]100%|██████████| 50/50 [07:53<00:00,  9.48s/it]
INFO - tinypaper - Result: {'answers': [[2, 1, 1, 2, 2, 2, 1, 2, 1, 2, 1, 1, 1], [2, 1, 2, 2, 2, 2, 2, 1, 2, 1, 1, 1, 2], [2, 1, 2, 2, 2, 1, 1, 2, 2, 2, 1, 2, 2], [2, 2, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1], [1, 1, 2, 1, 1, 1, 2, 2, 2, 1, 2, 1, 2], [1, 1, 1, 2, 2, 2, 1, 2, 1, 1, 2, 2, 2], [2, 1, 2, 1, 2, 2, 1, 2, 1, 2, 1, 1, 2], [2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 2, 1, 1], [2, 1, 2, 1, 2, 2, 2, 2, 1, 2, 1, 2, 1], [2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2], [2, 1, 2, 1, 1, 2, 1, 2, 1, 1, 1, 2, 2], [2, 2, 1, 2, 2, 2, 1, 1, 1, 1, 1, 2, 1], [2, 1, 2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 2], [1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 2, 1], [2, 2, 2, 2, 2, 1, 1, 2, 2, 2, 1, 1, 1], [1, 2, 1, 1, 2, 2, 1, 2, 1, 1, 1, 2, 1], [1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 1, 1, 2], [1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1], [2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 2], [2, 2, 2, 1, 1, 2, 1, 2, 1, 2, 1, 2, 2], [1, 2, 2, 2, 2, 1, 1, 1, 2, 2, 1, 2, 1], [2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 2, 2, 2], [1, 2, 2, 2, 1, 2, 1, 1, 2, 2, 2, 1, 2], [2, 1, 1, 2, 2, 2, 1, 2, 1, 1, 2, 2, 2], [1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 2], [1, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2], [1, 1, 2, 1, 1, 1, 2, 2, 1, 2, 2, 2, 2], [2, 2, 1, 1, 1, 2, 2, 1, 1, 1, 1, 2, 2], [2, 1, 1, 2, 2, 2, 1, 1, 1, 1, 1, 1, 2], [2, 2, 2, 2, 1, 1, 2, 2, 1, 1, 2, 1, 2], [2, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2], [1, 1, 2, 2, 1, 1, 1, 2, 1, 1, 2, 1, 2], [2, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2, 1, 1], [1, 1, 1, 2, 2, 2, 1, 2, 1, 1, 2, 1, 1], 'Traceback (most recent call last):\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play\n    answer = self._prompt(self._make_prompt(scenario))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt\n    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")\nutil.UnexpectedAnswerException: expected 1 or 2, got 请\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session\n    result = agent.play(session)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x13747a710 state=finished raised UnexpectedAnswerException>]\n', [1, 1, 2, 2, 2, 2, 1, 1, 1, 2, 1, 1, 2], [1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 2, 2, 2], [1, 1, 1, 2, 2, 1, 1, 2, 2, 1, 2, 1, 2], [2, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1], [1, 2, 1, 2, 2, 1, 2, 2, 1, 2, 1, 1, 1], [1, 1, 2, 1, 2, 1, 2, 2, 1, 2, 1, 1, 2], [2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 1, 1], [1, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 1, 1], [1, 1, 2, 1, 1, 1, 1, 2, 1, 2, 1, 1, 1], [2, 2, 1, 1, 1, 1, 1, 2, 1, 1, 2, 2, 2], [2, 2, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 2], [1, 1, 1, 2, 2, 1, 1, 2, 2, 1, 2, 2, 1], [1, 1, 2, 2, 1, 1, 2, 2, 2, 1, 2, 2, 1], [2, 2, 2, 1, 2, 2, 1, 1, 2, 1, 1, 2, 2]], 'api_usage': [APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=20227, num_output_tokens=13, cost=0.010133), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=38872, num_output_tokens=26, cost=0.019475), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=58188, num_output_tokens=39, cost=0.0291525), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=75524, num_output_tokens=52, cost=0.03784), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=94908, num_output_tokens=65, cost=0.0475515), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=113469, num_output_tokens=78, cost=0.0568515), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=133978, num_output_tokens=91, cost=0.0671255), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=153431, num_output_tokens=104, cost=0.0768715), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=170568, num_output_tokens=117, cost=0.0854595), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=188058, num_output_tokens=131, cost=0.0942255), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=207255, num_output_tokens=144, cost=0.1038435), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=226975, num_output_tokens=157, cost=0.113723), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=245012, num_output_tokens=170, cost=0.122761), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=264224, num_output_tokens=183, cost=0.1323865), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=281907, num_output_tokens=196, cost=0.1412475), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=301006, num_output_tokens=209, cost=0.1508165), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=319351, num_output_tokens=222, cost=0.1600085), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=338619, num_output_tokens=235, cost=0.169662), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=358392, num_output_tokens=248, cost=0.179568), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=378059, num_output_tokens=261, cost=0.189421), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=397209, num_output_tokens=274, cost=0.1990155), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=416648, num_output_tokens=287, cost=0.2087545), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=439441, num_output_tokens=307, cost=0.220181), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=456836, num_output_tokens=320, cost=0.228898), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=477483, num_output_tokens=333, cost=0.239241), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=496350, num_output_tokens=346, cost=0.248694), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=515366, num_output_tokens=359, cost=0.2582215), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=535601, num_output_tokens=372, cost=0.2683585), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=553990, num_output_tokens=385, cost=0.2775725), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=572470, num_output_tokens=398, cost=0.286832), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=591008, num_output_tokens=411, cost=0.2961205), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=610339, num_output_tokens=424, cost=0.3058055), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=629041, num_output_tokens=437, cost=0.315176), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=648228, num_output_tokens=450, cost=0.324789), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=667433, num_output_tokens=463, cost=0.334411), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=671053, num_output_tokens=473, cost=0.336236), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=689608, num_output_tokens=486, cost=0.345533), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=707975, num_output_tokens=499, cost=0.354736), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=725569, num_output_tokens=512, cost=0.3635525), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=745026, num_output_tokens=525, cost=0.3733005), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=762813, num_output_tokens=538, cost=0.3822135), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=782518, num_output_tokens=551, cost=0.3920855), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=802199, num_output_tokens=564, cost=0.4019455), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=818444, num_output_tokens=577, cost=0.4100875), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=836645, num_output_tokens=590, cost=0.4192075), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=855586, num_output_tokens=603, cost=0.4286975), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=910371, num_output_tokens=653, cost=0.456165), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=928023, num_output_tokens=666, cost=0.4650105), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=945846, num_output_tokens=679, cost=0.4739415), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=964337, num_output_tokens=692, cost=0.4832065)], 'api_usage_total': APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=24121479, num_output_tokens=16915, cost=12.086112)}
INFO - tinypaper - Completed after 0:07:54
