INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "24"
/Users/karina/Documents/Coding/PyCharm/mme/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:11<09:33, 11.70s/it]  4%|▍         | 2/50 [00:22<08:50, 11.05s/it]  6%|▌         | 3/50 [00:30<07:35,  9.68s/it]  8%|▊         | 4/50 [00:38<07:00,  9.13s/it] 10%|█         | 5/50 [00:48<06:59,  9.31s/it] 12%|█▏        | 6/50 [00:56<06:32,  8.91s/it] 14%|█▍        | 7/50 [01:04<06:08,  8.56s/it] 16%|█▌        | 8/50 [01:13<06:02,  8.63s/it] 18%|█▊        | 9/50 [01:20<05:41,  8.34s/it] 20%|██        | 10/50 [01:29<05:38,  8.45s/it] 22%|██▏       | 11/50 [01:37<05:26,  8.37s/it] 24%|██▍       | 12/50 [01:45<05:16,  8.32s/it] 26%|██▌       | 13/50 [01:53<04:59,  8.09s/it] 28%|██▊       | 14/50 [02:00<04:45,  7.94s/it] 30%|███       | 15/50 [02:09<04:47,  8.22s/it] 32%|███▏      | 16/50 [02:18<04:42,  8.32s/it] 34%|███▍      | 17/50 [02:27<04:40,  8.49s/it]WARNING - root - Finished call to 'agent.Agent.play' after 1.915(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 4.308(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 6.449(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 8.096(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 11.621(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 13.661(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 15.507(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 17.505(s), this was the 8th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 19.630(s), this was the 9th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 21.272(s), this was the 10th time calling it.
Traceback (most recent call last):
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play
    answer = self._prompt(self._make_prompt(scenario))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt
    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")
util.UnexpectedAnswerException: expected 1 or 2, got Das

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session
    result = agent.play(session)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x139e20a50 state=finished raised UnexpectedAnswerException>]
 36%|███▌      | 18/50 [02:48<06:34, 12.33s/it] 38%|███▊      | 19/50 [02:56<05:41, 11.02s/it] 40%|████      | 20/50 [03:05<05:14, 10.49s/it]WARNING - root - Finished call to 'agent.Agent.play' after 4.491(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
 42%|████▏     | 21/50 [03:18<05:19, 11.01s/it] 44%|████▍     | 22/50 [03:26<04:47, 10.25s/it] 46%|████▌     | 23/50 [03:34<04:20,  9.67s/it] 48%|████▊     | 24/50 [03:43<04:01,  9.29s/it] 50%|█████     | 25/50 [03:51<03:47,  9.10s/it] 52%|█████▏    | 26/50 [04:01<03:40,  9.20s/it] 54%|█████▍    | 27/50 [04:09<03:22,  8.79s/it] 56%|█████▌    | 28/50 [04:17<03:11,  8.72s/it] 58%|█████▊    | 29/50 [04:25<02:55,  8.35s/it] 60%|██████    | 30/50 [04:32<02:42,  8.15s/it] 62%|██████▏   | 31/50 [04:40<02:33,  8.10s/it] 64%|██████▍   | 32/50 [04:48<02:24,  8.04s/it] 66%|██████▌   | 33/50 [04:57<02:20,  8.27s/it] 68%|██████▊   | 34/50 [05:05<02:12,  8.30s/it] 70%|███████   | 35/50 [05:13<02:03,  8.24s/it] 72%|███████▏  | 36/50 [05:22<01:54,  8.21s/it] 74%|███████▍  | 37/50 [05:29<01:43,  7.98s/it] 76%|███████▌  | 38/50 [05:37<01:35,  7.92s/it] 78%|███████▊  | 39/50 [05:45<01:27,  7.93s/it] 80%|████████  | 40/50 [05:53<01:18,  7.90s/it] 82%|████████▏ | 41/50 [06:01<01:12,  8.01s/it] 84%|████████▍ | 42/50 [06:09<01:04,  8.03s/it] 86%|████████▌ | 43/50 [06:17<00:55,  7.91s/it] 88%|████████▊ | 44/50 [06:25<00:48,  8.04s/it] 90%|█████████ | 45/50 [06:34<00:42,  8.47s/it] 92%|█████████▏| 46/50 [06:42<00:33,  8.28s/it] 94%|█████████▍| 47/50 [06:51<00:24,  8.33s/it] 96%|█████████▌| 48/50 [06:59<00:16,  8.46s/it] 98%|█████████▊| 49/50 [07:08<00:08,  8.35s/it]100%|██████████| 50/50 [07:16<00:00,  8.27s/it]100%|██████████| 50/50 [07:16<00:00,  8.72s/it]
INFO - tinypaper - Result: {'answers': [[2, 1, 2, 1, 2, 1, 1, 1, 2, 1, 1, 2, 2], [1, 2, 2, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2], [1, 2, 1, 2, 1, 1, 1, 2, 2, 1, 2, 2, 2], [1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 1], [2, 2, 2, 1, 2, 1, 1, 2, 2, 2, 1, 1, 2], [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1], [2, 1, 2, 2, 2, 1, 2, 2, 2, 1, 1, 2, 1], [1, 2, 1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 2], [2, 1, 1, 2, 1, 1, 2, 1, 2, 1, 1, 2, 2], [1, 1, 2, 1, 2, 2, 1, 2, 2, 2, 2, 1, 1], [1, 1, 2, 2, 2, 1, 1, 2, 1, 2, 1, 2, 1], [1, 1, 1, 2, 1, 2, 2, 2, 1, 2, 1, 2, 2], [2, 2, 1, 1, 1, 2, 1, 2, 2, 2, 2, 1, 2], [2, 2, 2, 2, 1, 2, 2, 1, 2, 1, 1, 2, 2], [1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1], 'Traceback (most recent call last):\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play\n    answer = self._prompt(self._make_prompt(scenario))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt\n    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")\nutil.UnexpectedAnswerException: expected 1 or 2, got Das\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session\n    result = agent.play(session)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x139e20a50 state=finished raised UnexpectedAnswerException>]\n', [2, 1, 2, 1, 2, 2, 1, 1, 2, 1, 1, 2, 2], [2, 1, 2, 2, 2, 2, 2, 1, 2, 2, 2, 1, 2], [2, 2, 1, 2, 2, 1, 2, 1, 2, 1, 2, 1, 1], [1, 2, 1, 2, 1, 1, 2, 2, 1, 2, 2, 1, 1], [1, 1, 2, 1, 1, 1, 2, 1, 2, 2, 1, 2, 1], [2, 1, 1, 2, 1, 1, 1, 2, 2, 1, 1, 1, 1], [2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 1, 2, 1], [1, 2, 1, 1, 2, 2, 1, 2, 1, 2, 2, 1, 2], [2, 1, 1, 1, 2, 1, 1, 2, 1, 1, 2, 2, 2], [1, 2, 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1], [1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 2, 1], [1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2, 1], [1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2], [2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 1], [2, 1, 2, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1], [2, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2], [2, 1, 2, 1, 1, 2, 1, 1, 1, 2, 2, 2, 1], [2, 1, 2, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2], [1, 1, 2, 1, 1, 2, 2, 1, 1, 1, 2, 1, 2], [1, 1, 1, 1, 2, 2, 1, 2, 2, 2, 2, 1, 2], [2, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 1], [1, 2, 1, 2, 1, 2, 1, 2, 1, 2, 2, 2, 2], [1, 1, 1, 2, 1, 2, 1, 2, 1, 2, 2, 2, 1], [1, 1, 2, 1, 2, 1, 1, 1, 1, 2, 1, 1, 1], [1, 2, 1, 2, 2, 1, 1, 2, 1, 2, 2, 2, 1], [2, 1, 2, 1, 2, 1, 1, 2, 2, 2, 2, 2, 1], [1, 1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1], [2, 2, 2, 1, 1, 2, 1, 1, 2, 2, 1, 2, 2], [1, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 1], [1, 1, 1, 1, 2, 2, 1, 2, 2, 2, 2, 2, 1], [1, 2, 1, 1, 1, 1, 2, 1, 1, 2, 2, 2, 1], [1, 1, 2, 2, 2, 2, 1, 2, 2, 1, 1, 1, 2]], 'api_usage': [APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=15154, num_output_tokens=13, cost=0.0075965), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=32247, num_output_tokens=26, cost=0.0161625), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=45905, num_output_tokens=39, cost=0.023011), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=61266, num_output_tokens=52, cost=0.030711), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=77297, num_output_tokens=65, cost=0.038746), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=91717, num_output_tokens=78, cost=0.0459755), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=106350, num_output_tokens=91, cost=0.0533115), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=121929, num_output_tokens=104, cost=0.0611205), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=136174, num_output_tokens=117, cost=0.0682625), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=151270, num_output_tokens=130, cost=0.07583), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=166957, num_output_tokens=143, cost=0.083693), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=182487, num_output_tokens=156, cost=0.0914775), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=197576, num_output_tokens=169, cost=0.0990415), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=212689, num_output_tokens=182, cost=0.1066175), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=228669, num_output_tokens=195, cost=0.114627), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=244608, num_output_tokens=208, cost=0.122616), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=259797, num_output_tokens=221, cost=0.13023), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=270017, num_output_tokens=251, cost=0.135385), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=285707, num_output_tokens=264, cost=0.1432495), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=301269, num_output_tokens=277, cost=0.15105), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=321509, num_output_tokens=297, cost=0.1612), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=337045, num_output_tokens=310, cost=0.1689875), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=353225, num_output_tokens=323, cost=0.177097), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=368978, num_output_tokens=336, cost=0.184993), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=384846, num_output_tokens=349, cost=0.1929465), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=400749, num_output_tokens=362, cost=0.2009175), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=415434, num_output_tokens=375, cost=0.2082795), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=430844, num_output_tokens=388, cost=0.216004), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=446460, num_output_tokens=401, cost=0.2238315), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=462081, num_output_tokens=414, cost=0.2316615), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=479012, num_output_tokens=427, cost=0.2401465), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=495873, num_output_tokens=440, cost=0.2485965), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=512184, num_output_tokens=453, cost=0.2567715), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=526720, num_output_tokens=466, cost=0.264059), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=541032, num_output_tokens=479, cost=0.2712345), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=556289, num_output_tokens=492, cost=0.2788825), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=570986, num_output_tokens=505, cost=0.2862505), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=585116, num_output_tokens=518, cost=0.293335), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=599512, num_output_tokens=531, cost=0.3005525), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=613586, num_output_tokens=544, cost=0.307609), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=628975, num_output_tokens=557, cost=0.315323), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=644170, num_output_tokens=570, cost=0.32294), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=658543, num_output_tokens=583, cost=0.330146), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=674630, num_output_tokens=596, cost=0.338209), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=691168, num_output_tokens=609, cost=0.3464975), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=707935, num_output_tokens=622, cost=0.3549005), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=722952, num_output_tokens=635, cost=0.3624285), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=738071, num_output_tokens=648, cost=0.3700075), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=752635, num_output_tokens=661, cost=0.377309), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=769421, num_output_tokens=674, cost=0.3857215)], 'api_usage_total': APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=19579066, num_output_tokens=17346, cost=9.815552000000002)}
INFO - tinypaper - Completed after 0:07:16
