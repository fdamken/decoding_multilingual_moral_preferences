INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "21"
/Users/karina/Documents/Coding/PyCharm/mme/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:07<06:25,  7.86s/it]  4%|▍         | 2/50 [00:16<06:40,  8.34s/it]  6%|▌         | 3/50 [00:27<07:23,  9.44s/it]  8%|▊         | 4/50 [00:40<08:26, 11.02s/it] 10%|█         | 5/50 [00:50<07:47, 10.40s/it] 12%|█▏        | 6/50 [00:58<07:04,  9.66s/it] 14%|█▍        | 7/50 [01:06<06:37,  9.24s/it] 16%|█▌        | 8/50 [01:14<06:16,  8.96s/it] 18%|█▊        | 9/50 [01:23<05:55,  8.68s/it] 20%|██        | 10/50 [01:30<05:36,  8.41s/it] 22%|██▏       | 11/50 [01:38<05:22,  8.27s/it] 24%|██▍       | 12/50 [01:47<05:17,  8.35s/it] 26%|██▌       | 13/50 [01:54<04:56,  8.02s/it] 28%|██▊       | 14/50 [02:02<04:45,  7.94s/it] 30%|███       | 15/50 [02:09<04:33,  7.81s/it]WARNING - root - Finished call to 'agent.Agent.play' after 7.120(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 13.414(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 19.762(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 26.552(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 33.686(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 41.038(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 47.993(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 48.747(s), this was the 8th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Wel.
WARNING - root - Finished call to 'agent.Agent.play' after 56.522(s), this was the 9th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got Das.
WARNING - root - Finished call to 'agent.Agent.play' after 57.460(s), this was the 10th time calling it.
Traceback (most recent call last):
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play
    answer = self._prompt(self._make_prompt(scenario))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt
    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")
util.UnexpectedAnswerException: expected 1 or 2, got Wel

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session
    result = agent.play(session)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x139522290 state=finished raised UnexpectedAnswerException>]
 32%|███▏      | 16/50 [03:07<12:53, 22.75s/it] 34%|███▍      | 17/50 [03:16<10:15, 18.67s/it] 36%|███▌      | 18/50 [03:30<09:08, 17.13s/it] 38%|███▊      | 19/50 [03:37<07:21, 14.23s/it] 40%|████      | 20/50 [03:44<06:05, 12.17s/it] 42%|████▏     | 21/50 [03:52<05:15, 10.88s/it] 44%|████▍     | 22/50 [04:00<04:41, 10.05s/it] 46%|████▌     | 23/50 [04:09<04:19,  9.59s/it] 48%|████▊     | 24/50 [04:25<04:58, 11.50s/it] 50%|█████     | 25/50 [04:33<04:19, 10.38s/it] 52%|█████▏    | 26/50 [04:42<04:05, 10.21s/it] 54%|█████▍    | 27/50 [04:49<03:32,  9.25s/it] 56%|█████▌    | 28/50 [04:57<03:13,  8.79s/it] 58%|█████▊    | 29/50 [05:05<02:58,  8.50s/it] 60%|██████    | 30/50 [05:13<02:49,  8.47s/it] 62%|██████▏   | 31/50 [05:21<02:33,  8.10s/it] 64%|██████▍   | 32/50 [05:31<02:38,  8.81s/it] 66%|██████▌   | 33/50 [05:39<02:25,  8.57s/it] 68%|██████▊   | 34/50 [05:49<02:21,  8.87s/it] 70%|███████   | 35/50 [05:57<02:09,  8.65s/it] 72%|███████▏  | 36/50 [06:05<01:58,  8.45s/it] 74%|███████▍  | 37/50 [06:12<01:46,  8.23s/it] 76%|███████▌  | 38/50 [06:21<01:40,  8.40s/it] 78%|███████▊  | 39/50 [06:43<02:17, 12.50s/it] 80%|████████  | 40/50 [06:52<01:52, 11.27s/it] 82%|████████▏ | 41/50 [07:00<01:33, 10.34s/it] 84%|████████▍ | 42/50 [07:08<01:16,  9.59s/it] 86%|████████▌ | 43/50 [07:15<01:02,  8.96s/it] 88%|████████▊ | 44/50 [07:23<00:51,  8.59s/it] 90%|█████████ | 45/50 [07:31<00:42,  8.51s/it] 92%|█████████▏| 46/50 [07:40<00:33,  8.50s/it] 94%|█████████▍| 47/50 [07:47<00:24,  8.26s/it] 96%|█████████▌| 48/50 [07:56<00:16,  8.24s/it] 98%|█████████▊| 49/50 [08:04<00:08,  8.32s/it]100%|██████████| 50/50 [08:12<00:00,  8.25s/it]100%|██████████| 50/50 [08:12<00:00,  9.86s/it]
INFO - tinypaper - Result: {'answers': [[2, 2, 1, 1, 2, 2, 1, 1, 1, 1, 1, 1, 1], [2, 1, 2, 2, 2, 1, 2, 1, 1, 1, 2, 1, 2], [2, 1, 1, 2, 2, 2, 1, 1, 2, 2, 1, 1, 1], [2, 1, 1, 1, 2, 2, 1, 2, 2, 2, 1, 1, 2], [2, 2, 2, 2, 1, 1, 2, 2, 1, 2, 1, 2, 1], [2, 2, 1, 2, 2, 1, 2, 2, 1, 1, 2, 2, 2], [1, 1, 1, 2, 2, 1, 2, 2, 2, 1, 1, 2, 1], [2, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2, 2], [2, 1, 1, 2, 2, 2, 2, 1, 1, 2, 1, 2, 2], [2, 1, 1, 1, 1, 2, 2, 1, 2, 2, 2, 1, 2], [1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 1, 2], [2, 2, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1], [1, 2, 1, 1, 1, 1, 1, 1, 2, 1, 1, 1, 2], [2, 2, 1, 2, 2, 2, 1, 2, 1, 1, 2, 1, 1], [1, 1, 1, 1, 1, 1, 2, 2, 1, 2, 1, 1, 1], 'Traceback (most recent call last):\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play\n    answer = self._prompt(self._make_prompt(scenario))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt\n    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")\nutil.UnexpectedAnswerException: expected 1 or 2, got Wel\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session\n    result = agent.play(session)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x139522290 state=finished raised UnexpectedAnswerException>]\n', [2, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1, 2, 2], [1, 2, 2, 1, 2, 1, 1, 2, 1, 2, 2, 1, 2], [1, 1, 2, 1, 2, 2, 1, 2, 1, 1, 2, 2, 1], [1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 2, 2], [1, 2, 2, 1, 1, 2, 1, 2, 1, 1, 1, 2, 2], [1, 2, 2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 1], [1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 2, 1, 1], [2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], [2, 1, 2, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1], [2, 1, 1, 2, 1, 1, 1, 2, 1, 2, 1, 1, 2], [1, 2, 1, 1, 2, 2, 1, 1, 1, 2, 1, 1, 2], [1, 1, 1, 2, 1, 1, 1, 1, 1, 2, 2, 1, 2], [2, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2], [2, 1, 1, 1, 1, 2, 1, 2, 2, 1, 2, 1, 1], [2, 1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 1], [1, 1, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 2], [2, 1, 1, 2, 2, 1, 2, 2, 2, 2, 1, 2, 1], [1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1], [1, 1, 2, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2], [2, 1, 2, 2, 1, 2, 2, 2, 1, 1, 2, 2, 1], [1, 2, 2, 1, 2, 1, 1, 2, 1, 1, 1, 1, 2], [1, 1, 1, 2, 1, 2, 1, 1, 1, 1, 1, 2, 1], [1, 2, 2, 2, 2, 1, 2, 2, 2, 1, 2, 1, 1], [1, 1, 1, 1, 2, 1, 2, 1, 2, 2, 2, 1, 2], [2, 2, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2, 2], [2, 1, 1, 1, 2, 2, 2, 1, 1, 1, 2, 2, 1], [2, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 2, 2], [2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 2, 1, 1], [2, 2, 1, 2, 2, 1, 2, 1, 1, 1, 2, 1, 2], [1, 2, 2, 1, 1, 1, 1, 2, 2, 2, 1, 1, 1], [2, 1, 1, 1, 2, 1, 2, 1, 2, 2, 1, 2, 1], [1, 2, 2, 2, 1, 1, 2, 1, 1, 2, 2, 2, 2], [1, 2, 1, 1, 1, 2, 2, 1, 2, 1, 2, 2, 2], [2, 2, 2, 2, 1, 2, 1, 1, 1, 2, 2, 2, 2]], 'api_usage': [APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=15640, num_output_tokens=13, cost=0.0078395), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=30858, num_output_tokens=26, cost=0.015468), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=45211, num_output_tokens=39, cost=0.022664), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=61179, num_output_tokens=52, cost=0.0306675), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=76113, num_output_tokens=65, cost=0.038154), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=91816, num_output_tokens=78, cost=0.046025), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=107067, num_output_tokens=91, cost=0.05367), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=122255, num_output_tokens=104, cost=0.0612835), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=137578, num_output_tokens=117, cost=0.0689645), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=151849, num_output_tokens=130, cost=0.0761195), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=165668, num_output_tokens=143, cost=0.0830485), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=181608, num_output_tokens=156, cost=0.091038), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=196780, num_output_tokens=169, cost=0.0986435), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=211990, num_output_tokens=182, cost=0.106268), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=227854, num_output_tokens=195, cost=0.1142195), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=329414, num_output_tokens=293, cost=0.1651465), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=344331, num_output_tokens=306, cost=0.1726245), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=360306, num_output_tokens=319, cost=0.1806315), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=374574, num_output_tokens=332, cost=0.187785), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=389370, num_output_tokens=345, cost=0.1952025), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=405144, num_output_tokens=358, cost=0.203109), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=421336, num_output_tokens=371, cost=0.2112245), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=437579, num_output_tokens=384, cost=0.2193655), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=452365, num_output_tokens=397, cost=0.226778), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=466074, num_output_tokens=410, cost=0.233652), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=480925, num_output_tokens=423, cost=0.241097), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=495885, num_output_tokens=436, cost=0.2485965), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=511332, num_output_tokens=449, cost=0.2563395), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=525691, num_output_tokens=462, cost=0.2635385), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=540465, num_output_tokens=475, cost=0.270945), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=555324, num_output_tokens=488, cost=0.278394), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=570805, num_output_tokens=501, cost=0.286154), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=586238, num_output_tokens=514, cost=0.29389), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=601960, num_output_tokens=527, cost=0.3017705), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=618332, num_output_tokens=540, cost=0.309976), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=634487, num_output_tokens=553, cost=0.318073), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=648525, num_output_tokens=566, cost=0.3251115), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=662998, num_output_tokens=579, cost=0.3323675), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=678120, num_output_tokens=592, cost=0.339948), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=694446, num_output_tokens=605, cost=0.3481305), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=710341, num_output_tokens=618, cost=0.3560975), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=725237, num_output_tokens=631, cost=0.363565), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=739773, num_output_tokens=644, cost=0.3708525), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=754220, num_output_tokens=657, cost=0.3780955), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=769800, num_output_tokens=670, cost=0.385905), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=786336, num_output_tokens=683, cost=0.3941925), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=800828, num_output_tokens=696, cost=0.401458), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=815830, num_output_tokens=709, cost=0.4089785), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=831073, num_output_tokens=722, cost=0.4166195), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=845954, num_output_tokens=735, cost=0.4240795)], 'api_usage_total': APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=22388884, num_output_tokens=19550, cost=11.223766999999999)}
INFO - tinypaper - Completed after 0:08:13
