INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "88"
/Users/karina/Documents/Coding/PyCharm/mme/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:08<07:05,  8.69s/it]  4%|▍         | 2/50 [00:18<07:39,  9.56s/it]  6%|▌         | 3/50 [00:27<07:05,  9.05s/it]  8%|▊         | 4/50 [00:35<06:43,  8.76s/it] 10%|█         | 5/50 [00:43<06:22,  8.51s/it] 12%|█▏        | 6/50 [00:54<06:48,  9.28s/it] 14%|█▍        | 7/50 [01:02<06:20,  8.85s/it] 16%|█▌        | 8/50 [01:14<06:53,  9.85s/it] 18%|█▊        | 9/50 [01:23<06:28,  9.46s/it] 20%|██        | 10/50 [01:31<06:00,  9.02s/it] 22%|██▏       | 11/50 [01:40<05:53,  9.05s/it] 24%|██▍       | 12/50 [01:51<06:08,  9.71s/it] 26%|██▌       | 13/50 [01:59<05:46,  9.35s/it] 28%|██▊       | 14/50 [02:08<05:28,  9.11s/it] 30%|███       | 15/50 [02:18<05:24,  9.28s/it] 32%|███▏      | 16/50 [02:27<05:14,  9.24s/it] 34%|███▍      | 17/50 [02:36<05:05,  9.26s/it] 36%|███▌      | 18/50 [02:44<04:47,  8.98s/it] 38%|███▊      | 19/50 [02:55<04:49,  9.35s/it] 40%|████      | 20/50 [03:03<04:30,  9.00s/it] 42%|████▏     | 21/50 [03:11<04:15,  8.81s/it] 44%|████▍     | 22/50 [03:25<04:47, 10.25s/it] 46%|████▌     | 23/50 [03:33<04:20,  9.65s/it] 48%|████▊     | 24/50 [03:43<04:13,  9.75s/it]WARNING - root - Finished call to 'agent.Agent.play' after 7.499(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 16.997(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 24.314(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 32.278(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 41.124(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 49.769(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 57.422(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 66.364(s), this was the 8th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 75.453(s), this was the 9th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 82.997(s), this was the 10th time calling it.
Traceback (most recent call last):
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play
    answer = self._prompt(self._make_prompt(scenario))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt
    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")
util.UnexpectedAnswerException: expected 1 or 2, got ど

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session
    result = agent.play(session)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x137e37750 state=finished raised UnexpectedAnswerException>]
 50%|█████     | 25/50 [05:06<13:13, 31.73s/it] 52%|█████▏    | 26/50 [05:15<09:55, 24.80s/it] 54%|█████▍    | 27/50 [05:23<07:36, 19.87s/it] 56%|█████▌    | 28/50 [05:32<06:06, 16.64s/it] 58%|█████▊    | 29/50 [05:41<05:00, 14.31s/it]WARNING - root - Finished call to 'agent.Agent.play' after 7.061(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 14.602(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 21.366(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
 60%|██████    | 30/50 [06:10<06:15, 18.78s/it] 62%|██████▏   | 31/50 [06:19<04:59, 15.79s/it] 64%|██████▍   | 32/50 [06:28<04:08, 13.80s/it] 66%|██████▌   | 33/50 [06:40<03:45, 13.27s/it] 68%|██████▊   | 34/50 [06:49<03:09, 11.87s/it] 70%|███████   | 35/50 [06:57<02:42, 10.86s/it] 72%|███████▏  | 36/50 [07:07<02:27, 10.54s/it] 74%|███████▍  | 37/50 [07:16<02:11, 10.09s/it] 76%|███████▌  | 38/50 [07:25<01:57,  9.76s/it] 78%|███████▊  | 39/50 [07:34<01:44,  9.49s/it] 80%|████████  | 40/50 [07:43<01:33,  9.32s/it] 82%|████████▏ | 41/50 [07:51<01:21,  9.03s/it] 84%|████████▍ | 42/50 [08:00<01:11,  8.94s/it] 86%|████████▌ | 43/50 [08:10<01:05,  9.38s/it] 88%|████████▊ | 44/50 [08:19<00:55,  9.21s/it] 90%|█████████ | 45/50 [08:28<00:45,  9.15s/it] 92%|█████████▏| 46/50 [08:37<00:36,  9.06s/it] 94%|█████████▍| 47/50 [08:46<00:26,  8.92s/it] 96%|█████████▌| 48/50 [08:54<00:17,  8.84s/it] 98%|█████████▊| 49/50 [09:07<00:09,  9.85s/it]100%|██████████| 50/50 [09:15<00:00,  9.42s/it]100%|██████████| 50/50 [09:15<00:00, 11.11s/it]
INFO - tinypaper - Result: {'answers': [[2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2], [2, 2, 1, 2, 2, 2, 2, 2, 1, 2, 1, 2, 1], [2, 2, 2, 2, 2, 2, 2, 1, 2, 2, 2, 1, 2], [2, 1, 2, 2, 2, 2, 2, 1, 2, 1, 1, 2, 2], [1, 1, 1, 2, 1, 2, 2, 2, 2, 2, 2, 1, 1], [2, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 2, 1], [2, 2, 2, 1, 2, 1, 1, 2, 1, 2, 1, 1, 1], [1, 2, 2, 2, 2, 2, 1, 1, 1, 2, 2, 2, 1], [2, 1, 1, 2, 2, 2, 2, 2, 2, 2, 1, 2, 2], [1, 1, 2, 2, 1, 2, 1, 2, 2, 2, 2, 2, 2], [1, 1, 2, 1, 1, 2, 1, 1, 1, 1, 1, 1, 1], [2, 1, 1, 2, 1, 2, 2, 2, 2, 2, 2, 1, 2], [2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 1, 1, 2], [2, 2, 2, 1, 2, 2, 1, 1, 2, 1, 2, 1, 1], [1, 2, 2, 2, 1, 2, 1, 2, 2, 1, 2, 2, 2], [2, 2, 2, 2, 1, 1, 1, 2, 2, 1, 2, 1, 2], [1, 1, 2, 1, 1, 1, 2, 2, 2, 1, 1, 2, 2], [2, 2, 1, 1, 2, 1, 1, 1, 2, 2, 1, 1, 2], [1, 1, 1, 2, 2, 2, 1, 1, 2, 2, 2, 2, 2], [1, 1, 2, 2, 1, 2, 1, 2, 2, 1, 1, 1, 1], [1, 2, 2, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2], [2, 1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 2], [2, 1, 1, 1, 2, 2, 2, 2, 2, 2, 1, 1, 2], [2, 1, 1, 2, 2, 1, 2, 1, 2, 2, 2, 2, 1], 'Traceback (most recent call last):\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play\n    answer = self._prompt(self._make_prompt(scenario))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt\n    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")\nutil.UnexpectedAnswerException: expected 1 or 2, got ど\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session\n    result = agent.play(session)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x137e37750 state=finished raised UnexpectedAnswerException>]\n', [1, 2, 1, 2, 1, 2, 1, 1, 1, 2, 1, 2, 1], [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1], [1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1], [2, 1, 2, 2, 2, 1, 2, 2, 1, 1, 2, 1, 2], [2, 1, 2, 1, 2, 1, 1, 2, 2, 1, 2, 2, 2], [2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2], [1, 1, 2, 1, 1, 1, 2, 1, 2, 2, 2, 1, 1], [2, 1, 2, 1, 2, 2, 1, 1, 2, 2, 1, 2, 2], [2, 2, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 2], [2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 2], [1, 1, 1, 1, 1, 2, 2, 1, 1, 2, 1, 2, 2], [2, 1, 2, 1, 2, 2, 2, 2, 1, 2, 1, 1, 2], [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1], [1, 1, 1, 2, 1, 2, 2, 2, 1, 2, 2, 2, 2], [1, 1, 1, 1, 2, 1, 2, 2, 1, 2, 2, 1, 2], [1, 1, 2, 2, 1, 1, 1, 1, 2, 1, 2, 2, 1], [2, 2, 1, 2, 2, 1, 1, 1, 2, 2, 1, 1, 2], [2, 1, 2, 2, 1, 1, 2, 1, 2, 2, 1, 1, 1], [1, 1, 1, 2, 1, 1, 2, 1, 1, 1, 2, 2, 2], [1, 2, 2, 2, 1, 2, 2, 2, 1, 1, 1, 2, 2], [2, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1, 1], [2, 1, 1, 2, 1, 1, 1, 1, 2, 2, 1, 2, 2], [1, 2, 2, 2, 2, 1, 2, 1, 2, 2, 2, 1, 1], [2, 1, 2, 2, 2, 2, 1, 2, 1, 1, 2, 1, 1], [2, 1, 2, 1, 1, 2, 1, 1, 2, 1, 2, 2, 1]], 'api_usage': [APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=17500, num_output_tokens=13, cost=0.0087695), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=35354, num_output_tokens=26, cost=0.017716), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=52848, num_output_tokens=39, cost=0.0264825), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=69235, num_output_tokens=52, cost=0.0346955), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=87995, num_output_tokens=65, cost=0.044095), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=106729, num_output_tokens=78, cost=0.0534815), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=124397, num_output_tokens=91, cost=0.062335), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=141913, num_output_tokens=104, cost=0.0711125), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=159812, num_output_tokens=117, cost=0.0800815), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=177535, num_output_tokens=130, cost=0.0889625), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=195822, num_output_tokens=143, cost=0.0981255), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=214322, num_output_tokens=156, cost=0.107395), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=233889, num_output_tokens=169, cost=0.117198), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=252777, num_output_tokens=182, cost=0.1266615), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=269129, num_output_tokens=195, cost=0.134857), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=287580, num_output_tokens=208, cost=0.144102), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=306128, num_output_tokens=221, cost=0.1533955), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=324795, num_output_tokens=234, cost=0.1627485), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=343080, num_output_tokens=247, cost=0.1719105), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=362722, num_output_tokens=260, cost=0.181751), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=379514, num_output_tokens=273, cost=0.1901665), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=397549, num_output_tokens=286, cost=0.1992035), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=416930, num_output_tokens=299, cost=0.2089135), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=436561, num_output_tokens=312, cost=0.2187485), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=577301, num_output_tokens=422, cost=0.2892835), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=595880, num_output_tokens=435, cost=0.2985925), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=613560, num_output_tokens=448, cost=0.307452), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=632106, num_output_tokens=461, cost=0.3167445), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=650628, num_output_tokens=474, cost=0.326025), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=706486, num_output_tokens=520, cost=0.354023), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=723333, num_output_tokens=533, cost=0.362466), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=742605, num_output_tokens=546, cost=0.3721215), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=762262, num_output_tokens=559, cost=0.3819695), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=778610, num_output_tokens=572, cost=0.390163), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=796802, num_output_tokens=585, cost=0.3992785), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=813041, num_output_tokens=598, cost=0.4074175), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=830868, num_output_tokens=611, cost=0.4163505), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=849363, num_output_tokens=624, cost=0.4256175), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=868538, num_output_tokens=637, cost=0.4352245), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=886786, num_output_tokens=650, cost=0.444368), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=903749, num_output_tokens=663, cost=0.452869), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=921564, num_output_tokens=676, cost=0.461796), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=938175, num_output_tokens=689, cost=0.470121), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=957290, num_output_tokens=702, cost=0.479698), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=975412, num_output_tokens=715, cost=0.4887785), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=992889, num_output_tokens=728, cost=0.4975365), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1009951, num_output_tokens=741, cost=0.506087), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1028222, num_output_tokens=754, cost=0.515242), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1045693, num_output_tokens=767, cost=0.523997), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1062342, num_output_tokens=780, cost=0.532341)], 'api_usage_total': APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=27057572, num_output_tokens=19790, cost=13.558471000000004)}
INFO - tinypaper - Completed after 0:09:16
