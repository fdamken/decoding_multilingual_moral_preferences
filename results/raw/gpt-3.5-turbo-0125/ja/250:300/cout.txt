INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "81"
/Users/karina/Documents/Coding/PyCharm/mme/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:08<07:05,  8.68s/it]  4%|▍         | 2/50 [00:36<15:53, 19.87s/it]  6%|▌         | 3/50 [00:45<11:39, 14.88s/it]  8%|▊         | 4/50 [00:56<10:08, 13.24s/it]WARNING - root - Finished call to 'agent.Agent.play' after 7.340(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
 10%|█         | 5/50 [01:12<10:42, 14.27s/it] 12%|█▏        | 6/50 [01:20<09:04, 12.38s/it] 14%|█▍        | 7/50 [01:29<08:03, 11.24s/it] 16%|█▌        | 8/50 [01:38<07:19, 10.45s/it] 18%|█▊        | 9/50 [01:47<06:54, 10.11s/it] 20%|██        | 10/50 [01:56<06:29,  9.74s/it] 22%|██▏       | 11/50 [02:04<06:00,  9.25s/it] 24%|██▍       | 12/50 [02:13<05:43,  9.03s/it]WARNING - root - Finished call to 'agent.Agent.play' after 8.189(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 18.077(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 28.259(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
 26%|██▌       | 13/50 [02:51<11:03, 17.92s/it] 28%|██▊       | 14/50 [03:00<09:03, 15.08s/it] 30%|███       | 15/50 [03:08<07:30, 12.86s/it]WARNING - root - Finished call to 'agent.Agent.play' after 9.687(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 17.850(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 25.970(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 164.957(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 203.196(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 210.738(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 218.420(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 251.403(s), this was the 8th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 259.563(s), this was the 9th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 267.883(s), this was the 10th time calling it.
Traceback (most recent call last):
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play
    answer = self._prompt(self._make_prompt(scenario))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt
    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")
util.UnexpectedAnswerException: expected 1 or 2, got ど

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session
    result = agent.play(session)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x13c504610 state=finished raised UnexpectedAnswerException>]
 32%|███▏      | 16/50 [07:35<50:47, 89.63s/it] 34%|███▍      | 17/50 [07:44<35:50, 65.15s/it] 36%|███▌      | 18/50 [07:53<25:45, 48.29s/it] 38%|███▊      | 19/50 [08:02<18:54, 36.60s/it] 40%|████      | 20/50 [08:12<14:13, 28.43s/it] 42%|████▏     | 21/50 [08:21<10:56, 22.64s/it] 44%|████▍     | 22/50 [08:29<08:32, 18.31s/it] 46%|████▌     | 23/50 [08:37<06:55, 15.39s/it] 48%|████▊     | 24/50 [08:46<05:46, 13.34s/it] 50%|█████     | 25/50 [08:55<05:01, 12.06s/it] 52%|█████▏    | 26/50 [09:04<04:26, 11.11s/it] 54%|█████▍    | 27/50 [09:14<04:05, 10.69s/it] 56%|█████▌    | 28/50 [09:23<03:45, 10.24s/it] 58%|█████▊    | 29/50 [09:32<03:29,  9.98s/it] 60%|██████    | 30/50 [09:41<03:14,  9.70s/it] 62%|██████▏   | 31/50 [09:48<02:50,  8.95s/it] 64%|██████▍   | 32/50 [09:58<02:42,  9.01s/it] 66%|██████▌   | 33/50 [10:06<02:30,  8.83s/it] 68%|██████▊   | 34/50 [10:21<02:51, 10.73s/it] 70%|███████   | 35/50 [10:30<02:33, 10.24s/it] 72%|███████▏  | 36/50 [10:39<02:17,  9.81s/it] 74%|███████▍  | 37/50 [10:48<02:05,  9.67s/it] 76%|███████▌  | 38/50 [10:58<01:54,  9.54s/it] 78%|███████▊  | 39/50 [11:06<01:41,  9.22s/it] 80%|████████  | 40/50 [11:15<01:29,  8.97s/it] 82%|████████▏ | 41/50 [11:23<01:19,  8.84s/it] 84%|████████▍ | 42/50 [11:34<01:14,  9.34s/it] 86%|████████▌ | 43/50 [11:43<01:05,  9.31s/it] 88%|████████▊ | 44/50 [11:51<00:52,  8.83s/it] 90%|█████████ | 45/50 [12:02<00:48,  9.70s/it] 92%|█████████▏| 46/50 [12:12<00:38,  9.68s/it] 94%|█████████▍| 47/50 [12:54<00:58, 19.40s/it] 96%|█████████▌| 48/50 [13:03<00:32, 16.30s/it] 98%|█████████▊| 49/50 [13:11<00:13, 13.91s/it]100%|██████████| 50/50 [13:20<00:00, 12.23s/it]100%|██████████| 50/50 [13:20<00:00, 16.00s/it]
INFO - tinypaper - Result: {'answers': [[1, 2, 1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 1], [2, 2, 1, 1, 2, 2, 2, 1, 1, 1, 2, 1, 2], [2, 1, 2, 2, 2, 2, 1, 1, 2, 2, 1, 2, 2], [2, 1, 1, 2, 1, 2, 2, 1, 2, 2, 1, 1, 2], [2, 2, 2, 2, 1, 1, 2, 2, 1, 2, 2, 2, 1], [2, 1, 2, 2, 2, 2, 2, 1, 1, 1, 2, 2, 2], [1, 1, 1, 1, 2, 1, 2, 2, 2, 1, 1, 2, 1], [2, 2, 1, 2, 1, 1, 1, 1, 1, 1, 1, 2, 1], [1, 1, 2, 1, 2, 2, 2, 2, 2, 1, 1, 2, 2], [1, 1, 1, 2, 1, 1, 2, 1, 2, 2, 2, 1, 2], [2, 2, 1, 2, 1, 2, 2, 1, 2, 2, 1, 1, 2], [2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2, 1], [1, 2, 2, 1, 1, 1, 2, 1, 2, 1, 1, 1, 2], [2, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 2], [1, 1, 1, 1, 2, 1, 2, 2, 2, 2, 2, 1, 1], 'Traceback (most recent call last):\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play\n    answer = self._prompt(self._make_prompt(scenario))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt\n    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")\nutil.UnexpectedAnswerException: expected 1 or 2, got ど\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session\n    result = agent.play(session)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x13c504610 state=finished raised UnexpectedAnswerException>]\n', [2, 2, 2, 1, 1, 1, 2, 1, 2, 2, 2, 2, 2], [1, 2, 1, 1, 2, 1, 1, 1, 1, 2, 2, 1, 2], [1, 1, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 1], [1, 1, 2, 1, 2, 1, 1, 1, 1, 2, 1, 2, 2], [1, 1, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2, 2], [1, 1, 1, 1, 1, 1, 2, 2, 1, 1, 1, 1, 1], [1, 1, 1, 2, 1, 1, 2, 2, 2, 2, 2, 1, 1], [2, 1, 2, 2, 1, 1, 2, 2, 1, 2, 2, 2, 2], [2, 1, 2, 2, 2, 1, 1, 2, 2, 1, 1, 2, 2], [2, 2, 2, 1, 2, 1, 2, 2, 2, 2, 1, 1, 2], [1, 1, 1, 1, 2, 2, 1, 1, 2, 2, 2, 1, 2], [1, 1, 1, 2, 1, 2, 1, 1, 1, 2, 2, 2, 2], [2, 2, 2, 1, 2, 2, 1, 2, 1, 1, 1, 1, 2], [2, 2, 1, 1, 1, 2, 1, 2, 1, 2, 2, 2, 1], [2, 2, 2, 1, 1, 1, 2, 2, 1, 1, 2, 2, 2], [1, 2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 1, 2], [2, 1, 1, 1, 2, 1, 1, 2, 1, 2, 1, 2, 1], [1, 1, 1, 1, 2, 2, 2, 2, 1, 2, 2, 1, 1], [2, 1, 1, 1, 2, 1, 1, 2, 2, 1, 2, 2, 2], [2, 1, 1, 2, 2, 2, 2, 2, 1, 1, 2, 2, 2], [1, 2, 1, 1, 2, 1, 2, 2, 1, 1, 1, 1, 2], [1, 2, 1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 1], [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 2, 1, 1], [1, 1, 1, 1, 2, 1, 1, 1, 2, 2, 2, 1, 1], [2, 2, 2, 2, 1, 2, 2, 2, 1, 2, 2, 2, 2], [2, 2, 1, 1, 2, 2, 1, 1, 1, 1, 1, 2, 1], [2, 2, 2, 2, 2, 1, 2, 1, 1, 1, 1, 2, 2], [2, 1, 1, 2, 2, 2, 1, 1, 1, 1, 2, 2, 1], [2, 2, 2, 2, 2, 1, 2, 2, 1, 2, 2, 1, 2], [1, 2, 2, 2, 2, 1, 2, 2, 2, 2, 1, 1, 1], [1, 1, 1, 1, 1, 2, 1, 1, 2, 2, 1, 2, 1], [1, 2, 2, 2, 1, 1, 2, 1, 1, 2, 2, 2, 1], [1, 1, 1, 1, 1, 1, 2, 1, 2, 1, 2, 2, 2], [1, 1, 2, 1, 1, 2, 1, 1, 1, 2, 2, 1, 2]], 'api_usage': [APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=17993, num_output_tokens=13, cost=0.009016), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=35817, num_output_tokens=26, cost=0.0179475), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=52898, num_output_tokens=39, cost=0.0265075), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=71465, num_output_tokens=52, cost=0.0358105), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=94849, num_output_tokens=72, cost=0.0475325), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=112855, num_output_tokens=85, cost=0.056555), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=130791, num_output_tokens=98, cost=0.0655425), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=148563, num_output_tokens=111, cost=0.074448), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=166435, num_output_tokens=124, cost=0.0834035), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=183047, num_output_tokens=137, cost=0.091729), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=199568, num_output_tokens=150, cost=0.100009), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=218559, num_output_tokens=163, cost=0.109524), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=288471, num_output_tokens=215, cost=0.144558), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=306326, num_output_tokens=228, cost=0.153505), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=324915, num_output_tokens=241, cost=0.162819), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=470755, num_output_tokens=361, cost=0.235919), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=488284, num_output_tokens=374, cost=0.244703), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=507026, num_output_tokens=387, cost=0.2540935), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=523715, num_output_tokens=400, cost=0.2624575), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=541160, num_output_tokens=413, cost=0.2711995), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=560028, num_output_tokens=426, cost=0.280653), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=579020, num_output_tokens=439, cost=0.2901685), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=598250, num_output_tokens=452, cost=0.299803), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=615637, num_output_tokens=465, cost=0.308516), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=631691, num_output_tokens=478, cost=0.3165625), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=649150, num_output_tokens=491, cost=0.3253115), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=666566, num_output_tokens=504, cost=0.334039), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=684219, num_output_tokens=517, cost=0.342885), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=701024, num_output_tokens=530, cost=0.351307), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=718562, num_output_tokens=543, cost=0.3600955), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=735695, num_output_tokens=556, cost=0.3686815), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=753423, num_output_tokens=569, cost=0.377565), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=771528, num_output_tokens=582, cost=0.386637), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=789945, num_output_tokens=595, cost=0.395865), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=809298, num_output_tokens=608, cost=0.405561), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=828167, num_output_tokens=621, cost=0.415015), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=844771, num_output_tokens=634, cost=0.4233365), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=861763, num_output_tokens=647, cost=0.431852), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=879645, num_output_tokens=660, cost=0.4408125), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=898589, num_output_tokens=673, cost=0.450304), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=917042, num_output_tokens=686, cost=0.45955), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=934356, num_output_tokens=699, cost=0.4682265), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=951244, num_output_tokens=712, cost=0.47669), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=968559, num_output_tokens=725, cost=0.485367), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=986842, num_output_tokens=738, cost=0.494528), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1006049, num_output_tokens=751, cost=0.504151), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1022986, num_output_tokens=764, cost=0.512639), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1040777, num_output_tokens=777, cost=0.521554), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1058485, num_output_tokens=790, cost=0.5304275), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=1076264, num_output_tokens=803, cost=0.5393365)], 'api_usage_total': APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=29423067, num_output_tokens=22124, cost=14.744719499999997)}
INFO - tinypaper - Completed after 0:13:20
