INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "78"
/Users/karina/Documents/Coding/PyCharm/mme/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(
  0%|          | 0/50 [00:00<?, ?it/s]  2%|▏         | 1/50 [00:09<07:24,  9.07s/it]  4%|▍         | 2/50 [00:17<07:06,  8.88s/it]  6%|▌         | 3/50 [00:26<06:52,  8.78s/it]  8%|▊         | 4/50 [00:36<07:11,  9.38s/it] 10%|█         | 5/50 [00:45<06:56,  9.25s/it] 12%|█▏        | 6/50 [00:55<06:51,  9.35s/it] 14%|█▍        | 7/50 [01:04<06:34,  9.18s/it]WARNING - root - Finished call to 'agent.Agent.play' after 3.247(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 8.315(s), this was the 2nd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 12.141(s), this was the 3rd time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 15.823(s), this was the 4th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 19.243(s), this was the 5th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 23.020(s), this was the 6th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 30.929(s), this was the 7th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 34.272(s), this was the 8th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 37.722(s), this was the 9th time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
WARNING - root - Finished call to 'agent.Agent.play' after 40.854(s), this was the 10th time calling it.
Traceback (most recent call last):
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__
    result = fn(*args, **kwargs)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play
    answer = self._prompt(self._make_prompt(scenario))
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt
    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")
util.UnexpectedAnswerException: expected 1 or 2, got ど

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session
    result = agent.play(session)
             ^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f
    return self(f, *args, **kw)
           ^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__
    do = self.iter(retry_state=retry_state)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter
    raise retry_exc from fut.exception()
tenacity.RetryError: RetryError[<Future at 0x139c7de50 state=finished raised UnexpectedAnswerException>]
 16%|█▌        | 8/50 [01:45<13:29, 19.26s/it] 18%|█▊        | 9/50 [01:53<10:51, 15.88s/it] 20%|██        | 10/50 [02:02<09:12, 13.81s/it] 22%|██▏       | 11/50 [02:11<08:01, 12.35s/it] 24%|██▍       | 12/50 [02:19<06:57, 10.98s/it] 26%|██▌       | 13/50 [02:28<06:23, 10.36s/it] 28%|██▊       | 14/50 [02:36<05:45,  9.60s/it] 30%|███       | 15/50 [02:44<05:22,  9.22s/it] 32%|███▏      | 16/50 [02:54<05:18,  9.38s/it] 34%|███▍      | 17/50 [03:02<05:01,  9.12s/it] 36%|███▌      | 18/50 [03:14<05:16,  9.88s/it] 38%|███▊      | 19/50 [03:22<04:52,  9.44s/it] 40%|████      | 20/50 [03:31<04:37,  9.25s/it] 42%|████▏     | 21/50 [03:41<04:29,  9.30s/it] 44%|████▍     | 22/50 [03:49<04:15,  9.14s/it] 46%|████▌     | 23/50 [03:58<04:03,  9.02s/it] 48%|████▊     | 24/50 [04:07<03:51,  8.89s/it] 50%|█████     | 25/50 [04:16<03:46,  9.04s/it] 52%|█████▏    | 26/50 [04:26<03:38,  9.12s/it] 54%|█████▍    | 27/50 [04:35<03:32,  9.23s/it] 56%|█████▌    | 28/50 [04:45<03:30,  9.57s/it] 58%|█████▊    | 29/50 [04:53<03:10,  9.09s/it] 60%|██████    | 30/50 [05:02<02:57,  8.89s/it] 62%|██████▏   | 31/50 [05:10<02:46,  8.77s/it] 64%|██████▍   | 32/50 [05:19<02:35,  8.64s/it]WARNING - root - Finished call to 'agent.Agent.play' after 9.525(s), this was the 1st time calling it.
INFO - root - Retrying agent.Agent.play in 0.0 seconds as it raised UnexpectedAnswerException: expected 1 or 2, got ど.
 66%|██████▌   | 33/50 [05:38<03:22, 11.94s/it] 68%|██████▊   | 34/50 [05:46<02:51, 10.70s/it] 70%|███████   | 35/50 [05:55<02:31, 10.13s/it] 72%|███████▏  | 36/50 [06:04<02:19,  9.95s/it] 74%|███████▍  | 37/50 [06:14<02:06,  9.73s/it] 76%|███████▌  | 38/50 [06:23<01:55,  9.64s/it] 78%|███████▊  | 39/50 [06:35<01:52, 10.24s/it] 80%|████████  | 40/50 [06:43<01:36,  9.64s/it] 82%|████████▏ | 41/50 [06:51<01:23,  9.33s/it] 84%|████████▍ | 42/50 [07:01<01:15,  9.45s/it] 86%|████████▌ | 43/50 [07:13<01:11, 10.26s/it] 88%|████████▊ | 44/50 [07:23<01:00, 10.01s/it] 90%|█████████ | 45/50 [07:31<00:47,  9.54s/it] 92%|█████████▏| 46/50 [07:40<00:36,  9.17s/it] 94%|█████████▍| 47/50 [07:47<00:26,  8.71s/it] 96%|█████████▌| 48/50 [07:55<00:17,  8.56s/it] 98%|█████████▊| 49/50 [08:05<00:08,  8.97s/it]100%|██████████| 50/50 [08:15<00:00,  9.04s/it]100%|██████████| 50/50 [08:15<00:00,  9.90s/it]
INFO - tinypaper - Result: {'answers': [[2, 2, 2, 2, 1, 1, 2, 2, 2, 2, 1, 1, 2], [2, 1, 2, 1, 1, 1, 2, 1, 1, 2, 2, 2, 1], [1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 2, 2, 2], [2, 2, 2, 1, 1, 1, 1, 1, 2, 2, 1, 2, 2], [2, 1, 1, 2, 2, 2, 1, 2, 2, 1, 1, 2, 1], [2, 2, 2, 1, 1, 1, 1, 2, 1, 2, 1, 1, 2], [2, 2, 2, 1, 2, 2, 2, 2, 1, 1, 2, 2, 1], 'Traceback (most recent call last):\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 26, in play\n    answer = self._prompt(self._make_prompt(scenario))\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/Documents/Coding/PyCharm/mme/src/agent.py", line 40, in _prompt\n    raise UnexpectedAnswerException(f"expected 1 or 2, got {result}")\nutil.UnexpectedAnswerException: expected 1 or 2, got ど\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File "/Users/karina/Documents/Coding/PyCharm/mme/scripts/experiments/run.py", line 16, in _run_session\n    result = agent.play(session)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/Users/karina/opt/anaconda3/envs/LLMs/lib/python3.11/site-packages/tenacity/__init__.py", line 326, in iter\n    raise retry_exc from fut.exception()\ntenacity.RetryError: RetryError[<Future at 0x139c7de50 state=finished raised UnexpectedAnswerException>]\n', [1, 1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 1, 1], [1, 1, 1, 1, 2, 1, 2, 1, 2, 1, 2, 2, 1], [1, 1, 1, 1, 2, 2, 1, 2, 1, 2, 2, 2, 2], [2, 2, 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2], [1, 2, 1, 2, 2, 1, 1, 1, 2, 2, 2, 2, 2], [1, 2, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1], [1, 1, 1, 1, 2, 2, 1, 2, 2, 2, 2, 1, 1], [2, 2, 1, 2, 2, 1, 2, 2, 2, 2, 2, 1, 2], [2, 2, 1, 2, 1, 1, 1, 2, 1, 1, 1, 2, 1], [1, 1, 1, 1, 1, 1, 1, 1, 2, 1, 2, 2, 1], [2, 1, 2, 2, 2, 2, 2, 1, 1, 2, 1, 2, 2], [2, 1, 1, 1, 2, 1, 2, 1, 2, 2, 2, 2, 2], [1, 1, 1, 1, 2, 2, 1, 1, 1, 2, 2, 1, 1], [2, 2, 2, 1, 1, 2, 2, 2, 1, 2, 2, 2, 2], [1, 2, 2, 1, 1, 1, 1, 2, 1, 1, 2, 2, 2], [1, 2, 1, 2, 2, 1, 1, 2, 1, 1, 1, 1, 1], [2, 1, 2, 2, 2, 2, 2, 2, 1, 1, 2, 1, 2], [1, 1, 2, 2, 2, 2, 2, 1, 1, 1, 2, 1, 2], [2, 1, 1, 2, 2, 2, 1, 1, 2, 1, 1, 2, 1], [1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 2, 2], [2, 1, 2, 2, 1, 2, 2, 1, 2, 1, 2, 2, 1], [2, 2, 2, 2, 1, 1, 2, 2, 1, 2, 2, 2, 2], [2, 2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 1, 2], [2, 1, 1, 2, 1, 1, 2, 2, 2, 2, 2, 2, 2], [2, 2, 1, 1, 2, 2, 2, 1, 1, 1, 2, 1, 2], [1, 1, 1, 1, 2, 1, 2, 2, 2, 1, 1, 2, 1], [1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 1, 1], [1, 2, 1, 1, 1, 1, 2, 1, 1, 2, 2, 2, 2], [1, 2, 2, 1, 2, 1, 2, 2, 1, 1, 1, 1, 1], [2, 2, 1, 1, 2, 1, 2, 2, 1, 1, 2, 2, 1], [2, 1, 2, 2, 2, 2, 2, 2, 2, 1, 1, 1, 2], [2, 1, 2, 1, 1, 1, 2, 1, 2, 2, 2, 2, 2], [2, 1, 2, 2, 2, 1, 2, 2, 2, 2, 2, 2, 2], [2, 1, 1, 1, 2, 2, 1, 2, 2, 2, 2, 2, 1], [1, 1, 1, 1, 1, 1, 1, 2, 1, 1, 2, 1, 2], [2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 2, 1, 1], [1, 1, 2, 1, 2, 1, 1, 2, 1, 1, 2, 1, 1], [2, 1, 1, 2, 1, 1, 1, 2, 1, 1, 2, 1, 2], [2, 2, 1, 1, 2, 1, 2, 1, 2, 2, 1, 2, 1], [1, 1, 1, 1, 1, 2, 1, 1, 1, 1, 2, 2, 1], [2, 2, 1, 2, 2, 2, 2, 1, 2, 1, 1, 1, 2], [1, 1, 1, 2, 1, 2, 1, 2, 1, 1, 1, 1, 2]], 'api_usage': [APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=17819, num_output_tokens=13, cost=0.008929), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=36385, num_output_tokens=26, cost=0.0182315), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=56078, num_output_tokens=39, cost=0.0280975), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=75188, num_output_tokens=52, cost=0.037672), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=92465, num_output_tokens=65, cost=0.04633), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=111019, num_output_tokens=78, cost=0.0556265), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=129260, num_output_tokens=91, cost=0.0647665), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=156480, num_output_tokens=141, cost=0.0784515), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=172218, num_output_tokens=154, cost=0.08634), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=188945, num_output_tokens=167, cost=0.094723), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=207328, num_output_tokens=180, cost=0.103934), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=224643, num_output_tokens=193, cost=0.112611), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=244245, num_output_tokens=206, cost=0.1224315), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=261504, num_output_tokens=219, cost=0.1310805), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=280236, num_output_tokens=232, cost=0.140466), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=299374, num_output_tokens=245, cost=0.1500545), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=315749, num_output_tokens=258, cost=0.1582615), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=333714, num_output_tokens=271, cost=0.1672635), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=352020, num_output_tokens=284, cost=0.176436), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=368904, num_output_tokens=297, cost=0.1848975), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=386722, num_output_tokens=310, cost=0.193826), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=403842, num_output_tokens=323, cost=0.2024055), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=422572, num_output_tokens=336, cost=0.21179), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=439314, num_output_tokens=349, cost=0.2201805), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=456141, num_output_tokens=362, cost=0.2286135), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=473304, num_output_tokens=375, cost=0.2372145), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=491229, num_output_tokens=388, cost=0.2461965), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=509040, num_output_tokens=401, cost=0.2551215), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=525516, num_output_tokens=414, cost=0.263379), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=543848, num_output_tokens=427, cost=0.2725645), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=563793, num_output_tokens=440, cost=0.2825565), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=582103, num_output_tokens=453, cost=0.291731), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=615193, num_output_tokens=478, cost=0.3083135), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=633773, num_output_tokens=491, cost=0.317623), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=653412, num_output_tokens=504, cost=0.327462), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=671202, num_output_tokens=517, cost=0.3363765), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=689183, num_output_tokens=530, cost=0.3453865), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=707644, num_output_tokens=543, cost=0.3546365), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=724832, num_output_tokens=556, cost=0.36325), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=742662, num_output_tokens=569, cost=0.3721845), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=761309, num_output_tokens=582, cost=0.3815275), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=779239, num_output_tokens=595, cost=0.390512), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=796433, num_output_tokens=608, cost=0.3991285), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=813470, num_output_tokens=621, cost=0.4076665), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=832459, num_output_tokens=634, cost=0.4171805), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=849601, num_output_tokens=647, cost=0.425771), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=866583, num_output_tokens=660, cost=0.4342815), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=884735, num_output_tokens=673, cost=0.443377), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=903822, num_output_tokens=686, cost=0.45294), APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=922508, num_output_tokens=699, cost=0.4623025)], 'api_usage_total': APIUsage(name='gpt-3.5-turbo-0125', num_input_tokens=23569058, num_output_tokens=18382, cost=11.812101999999996)}
INFO - tinypaper - Completed after 0:08:15
