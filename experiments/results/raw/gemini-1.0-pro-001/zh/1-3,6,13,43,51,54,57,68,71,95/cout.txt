INFO - tinypaper - Running command 'main'
INFO - tinypaper - Started run with ID "1"
INFO - main - playing only games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]
  0%|          | 0/10 [00:00<?, ?it/s]/home/fdamken/tinypaper_code/src/model/model.py:19: UserWarning: Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!
  warnings.warn(f"Running model NOT in dry mode! This will consume API tokens and may cost money. MAKE SURE TO RUN IN DRY MODE FIRST TO GET AN ESTIMATE!")
 10%|█         | 1/10 [00:20<03:04, 20.49s/it] 20%|██        | 2/10 [00:37<02:25, 18.25s/it]WARNING - _fetch - unexpected response
Traceback (most recent call last):
  File "/home/fdamken/tinypaper_code/src/model/google.py", line 71, in _fetch
    return response.text
           ^^^^^^^^^^^^^
  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/generativeai/types/generation_types.py", line 333, in text
    raise ValueError(
ValueError: The `response.text` quick accessor only works when the response contains a valid `Part`, but none was returned. Check the `candidate.safety_ratings` to see if the response was blocked.
 30%|███       | 3/10 [00:39<01:17, 11.03s/it] 40%|████      | 4/10 [00:58<01:23, 13.96s/it] 50%|█████     | 5/10 [01:15<01:15, 15.13s/it] 60%|██████    | 6/10 [01:38<01:11, 17.99s/it] 70%|███████   | 7/10 [01:56<00:53, 17.84s/it] 80%|████████  | 8/10 [02:13<00:35, 17.76s/it] 90%|█████████ | 9/10 [02:32<00:18, 18.04s/it]100%|██████████| 10/10 [02:51<00:00, 18.35s/it]100%|██████████| 10/10 [02:51<00:00, 17.16s/it]
INFO - tinypaper - Result: {'answers': ['skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '1', '2', '1', '1', '1', '1', '1', '2', '2', '1', '1', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '2', '1', '2', '1', '2', '2', '1', '2', '2', '1', '2', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'Traceback (most recent call last):\n  File "/home/fdamken/tinypaper_code/scripts/experiments/run.py", line 17, in _run_game\n    result = agent.play(game)\n             ^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 289, in wrapped_f\n    return self(f, *args, **kw)\n           ^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 379, in __call__\n    do = self.iter(retry_state=retry_state)\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 314, in iter\n    return fut.result()\n           ^^^^^^^^^^^^\n  File "/home/fdamken/.pyenv/versions/3.11.7/lib/python3.11/concurrent/futures/_base.py", line 449, in result\n    return self.__get_result()\n           ^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.pyenv/versions/3.11.7/lib/python3.11/concurrent/futures/_base.py", line 401, in __get_result\n    raise self._exception\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/tenacity/__init__.py", line 382, in __call__\n    result = fn(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/tinypaper_code/src/agent.py", line 26, in play\n    return [self._prompt(self._make_prompt(scenario)) for scenario in game.scenarios]\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/tinypaper_code/src/agent.py", line 26, in <listcomp>\n    return [self._prompt(self._make_prompt(scenario)) for scenario in game.scenarios]\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/tinypaper_code/src/agent.py", line 32, in _prompt\n    result = self._model.prompt(prompt)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/tinypaper_code/src/model/google.py", line 32, in prompt\n    return self._fetch(prompt)\n           ^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/sacred/config/captured_function.py", line 42, in captured_function\n    result = wrapped(*args, **kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/tinypaper_code/src/model/google.py", line 69, in _fetch\n    response = self._chat.send_message(prompt)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 426, in send_message\n    response = self.model.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/generativeai/generative_models.py", line 232, in generate_content\n    response = self._client.generate_content(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/ai/generativelanguage_v1beta/services/generative_service/client.py", line 566, in generate_content\n    response = rpc(\n               ^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/gapic_v1/method.py", line 131, in __call__\n    return wrapped_func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 293, in retry_wrapped_func\n    return retry_target(\n           ^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 153, in retry_target\n    _retry_error_helper(\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/retry/retry_base.py", line 212, in _retry_error_helper\n    raise final_exc from source_exc\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/retry/retry_unary.py", line 144, in retry_target\n    result = target()\n             ^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/timeout.py", line 120, in func_with_timeout\n    return func(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^\n  File "/home/fdamken/.cache/pypoetry/virtualenvs/non-package-mode-0juKmIlL-py3.11/lib/python3.11/site-packages/google/api_core/grpc_helpers.py", line 78, in error_remapped_callable\n    raise exceptions.from_grpc_error(exc) from exc\ngoogle.api_core.exceptions.InvalidArgument: 400 * GenerateContentRequest.contents[1].parts: contents.parts must not be empty.\n\n', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '1', '1', '2', '1', '1', '1', '1', '1', '1', '2', '2', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['1', '2', '1', '1', '2', '2', '1', '2', '1', '2', '1', '2', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '2', '2', '2', '1', '2', '2', '2', '2', '2', '2', '2', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '1', '2', '2', '1', '2', '2', '2', '1', '2', '2', '2', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '2', '1', '2', '1', '2', '1', '2', '2', '1', '2', '1', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '2', '2', '2', '2', '2', '2', '2', '2', '1', '2', '2', '1'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', ['2', '1', '2', '1', '2', '1', '2', '2', '2', '1', '1', '2', '2'], 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]', 'skipped; only playing games [3, 6, 13, 43, 51, 54, 57, 68, 71, 95]'], 'api_usage': [APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=-1, num_output_tokens=-1, cost=0.0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=-1, num_output_tokens=-1, cost=0.0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=-1, num_output_tokens=-1, cost=0.0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=-1, num_output_tokens=-1, cost=0.0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-001', num_input_tokens=0, num_output_tokens=0, cost=0), APIUsage(name='gemini-1.0-pro-0